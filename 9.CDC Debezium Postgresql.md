# CDC (Change Data Capture)

Change Data Capture (CDC) adalah proses mengidentifikasi dan menangkap perubahan data yang terjadi dalam sistem basis data, kemudian menyediakan data perubahan tersebut dalam bentuk yang dapat digunakan oleh sistem lain. CDC bertujuan untuk memastikan bahwa perubahan data, seperti penambahan, pembaruan, atau penghapusan, dapat direplikasi secara akurat dan efisien ke dalam sistem target, seperti database lain, data warehouse, atau aplikasi analitik.

CDC memungkinkan organisasi untuk memproses dan mengintegrasikan data dari berbagai sumber secara real-time atau mendekati real-time, sehingga mendukung berbagai kasus penggunaan, seperti:

* Replikasi Data: CDC memungkinkan replikasi data secara terus menerus dari satu sistem ke sistem lain, menjaga konsistensi data di berbagai lokasi.
* ETL (Extract, Transform, Load): CDC membantu dalam proses ETL dengan memungkinkan ekstraksi hanya data yang berubah, sehingga mengurangi beban kerja dan meningkatkan efisiensi.
* Integrasi Data Real-time: CDC memungkinkan integrasi data dari berbagai sumber secara real-time, yang sangat berguna untuk analitik dan pelaporan.
* Auditing dan Kepatuhan: Dengan CDC, setiap perubahan data dapat dilacak dan dicatat, mendukung kebutuhan audit dan kepatuhan terhadap regulasi.
* Meningkatkan Kinerja Sistem: Dengan mengurangi beban pada sistem sumber melalui pengambilan data yang berubah saja, CDC membantu menjaga kinerja sistem tetap optimal.

## CDC Debezium Postgresql Connector

Konektor PostgreSQL Debezium dapat memonitor dan merekam perubahan pada level baris dalam skema database PostgreSQL. Saat pertama kali terhubung ke server atau kluster PostgreSQL, konektor ini membaca snapshot konsisten dari semua skema yang ada. Snapshot ini mencakup semua data saat ini di tabel-tabel yang dipantau.

Setelah snapshot tersebut selesai, konektor beralih ke mode streaming, di mana ia terus menerus mengalirkan perubahan yang dikomit ke PostgreSQL versi 9.6 atau lebih baru. Perubahan ini termasuk operasi insert, update, dan delete, dan setiap perubahan ini diubah menjadi event yang sesuai dalam Kafka.

Semua event yang dihasilkan untuk setiap tabel dicatat dalam topik Kafka yang terpisah. Hal ini membuat event-event tersebut mudah dikonsumsi oleh aplikasi dan layanan lain yang berlangganan ke topik Kafka tersebut. Aplikasi dan layanan ini kemudian dapat memproses event tersebut untuk keperluan seperti analisis real-time, sinkronisasi data, atau pemrosesan transaksi lebih lanjut.

Konektor ini memerlukan PostgreSQL server yang memiliki plugin logical decoding terinstal dan dikonfigurasi dengan benar. Logical decoding adalah fitur PostgreSQL yang memungkinkan perubahan pada basis data dikodekan menjadi format logis yang dapat dipahami oleh aplikasi eksternal. Untuk menggunakan konektor ini dengan PostgreSQL, plugin seperti decoderbufs atau pgoutput harus diinstal pada server PostgreSQL.

## Praktek

1. Untuk membuat cdc debezium postgresql connector, langkah pertama yaitu download plugin connectornya terlebih dahulu [disini](https://www.confluent.io/hub/debezium/debezium-connector-postgresql) lalu exract dan tempatkan pada direktori tempat menyimpan plugin lain seperti saat materi JDBC source & sink dan Oracle yaitu pada path /usr/share/confluent-hub-components.

2. Sesuai dengan pedoman dari 



delete row
![image](https://github.com/ferdyansahalfariz/belajar-linux/assets/96871156/5b50125d-216b-4212-82d2-8f3febf91d29)
